(function(a){a.fn.iframePostForm=function(e){var c,b,d,f;b=a(this);e=a.extend({},a.fn.iframePostForm.defaults,e);if(!a("#"+e.iframeID).length){a("body").append('<iframe name="'+e.iframeID+'" id="'+e.iframeID+'" style="display:none"></iframe>')}return b.each(function(){d=a(this);d.attr("target",e.iframeID);d.submit(function(){e.post.apply(this);f=a("#"+e.iframeID);f.unbind("load").bind("load",function(){c=f.contents().find("body");e.complete.apply(this,[c.html()]);setTimeout(function(){c.html("")},1)})})})};a.fn.iframePostForm.defaults={iframeID:"iframe-post-form",post:function(){},complete:function(b){}}})(jQuery);