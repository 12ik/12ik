define("mod/editable",["lib/jquery","mod/lang","mod/template","mod/network"],function(d,b,a,e){var c={toEdit:function(l){var j=d(l),k=l.parentNode,f=parseInt(d(l).attr("size"),10),i=d(l).attr("mutiline"),h;i=i!="false"&&true||false;h=d(".editnow-target",k).html()||"";j.hide().data("editcache",h).appendTo(document.body);k.innerHTML='<span class="editnow-erea">'+(i?('<textarea class="editnow-input"></textarea>'):('<input type="text" value="" class="editnow-input">'))+'<input type="button" value="确定" class="editnow-yes"><input type="button" value="取消" class="editnow-no"></span>';j.appendTo(d(".editnow-erea",k));var g=d(".editnow-input",k).val(h);if(f){g.keyup(function(n){var m=this.value,o=a.substr(m,f*2);if(o.length!==m.length){this.value=o}})}},toNormal:function(l,j){var i=d(l),k=l.parentNode.parentNode,f=i.attr("emptyMode"),h=i.attr("normalMode")||i.html(),g=i.data("editcache"),m=typeof j==="string";i.appendTo(document.body);k.innerHTML='<span class="editnow-target">'+(m?j:g)+"</span>";if(m){i.html(j?h:f)}i.appendTo(k).show().removeData("editcache")}};return c});